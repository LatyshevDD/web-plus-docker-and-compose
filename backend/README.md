# КупиПодариДай
## Данный проект представляет из себя реализацию серверного REST API приложения(сервис вишлистов) на базе NestJS

---
### [Ссылка на описание API в swagger](https://app.swaggerhub.com/apis/zlocate/KupiPodariDay/1.0.0)
---

#### Особенности реализации проекта:
1. Проект реализован на NodeJS с использованием фреймворка NestJS
2. Проект реализован на TypeScript
3. Для хранения данных в проекте используется PostgreSQL
4. Работа с базой данных осуществляется при помощи пакета TypeORM
5. При работе с базой данных используются связи:
   - OneToOne
   - OneToMany
   - ManyToOne
6. Реализованы модели данных для пользователей ( users ), подарков ( wishes ), списков желаний ( wishlists ) и списка
желающих скинуться ( offers )
7. Проверка данных, добавляемых в базу данных осуществляется при помощи:
   - DTO
   - class-validator
   - class-transformer
8. Реализованы CRUD контроллеры для пользователей ( users ), подарков ( wishes ), списков желаний ( wishlists ) и списка желающих скинуться ( offers )
9. В проекте реализована регистрация и авторизация:
   - применяются пакеты @nestjs/passport , @nestjs/jwt , passport, passport-local и bcrypt
   - пароли хранятся в хешированом виде
   - API не возвращает хеш пароля пользователя и его почту (за исключением метода получения профиля пользователя)
   - для полей email и username заданы требования уникальности, ошибки обрабатываются в контроллере регистрации и обновления профиля пользователя
   - для JWT-токена задано время жизни
   - все запросы, кроме запроса последних подарков, запроса популярных подарков, запроса регистрации и авторизации, защищены гардом авторизации через декоратор метода UseGuards
10. Реализованы следующие ограничения в работе сервиса:
    - пользователь может редактировать только свой профиль
    - редактировать и удалять можно только свои подборки подарков
    - нельзя изменять или удалять чужие подарки
    - нельзя изменять стоимость подарка, если уже есть желающие скинуться
    - сумма собранных средств недоступна для изменения и формируется из заявок других пользователей
    - пользователю нельзя вносить деньги на собственные подарки, а также удалять или редактировать заявки
    - нельзя скинуться на подарки, на которые уже собраны деньги. Сумма собранных средств не может превышать стоимость подарка

